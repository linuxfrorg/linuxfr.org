%h2 Options
= form_for @account, url: registration_path(:account), method: :put do |f|
  = f.fields_for :user do |u|
    %p
      = u.label :name, "Prénom et nom"
      = u.text_field :name, maxlength: 40
    %p
      = u.label :homesite, 'Site web personnel'
      = u.url_field :homesite, maxlength: 100
    %p
      = u.label :jabber_id, 'Adresse XMPP'
      %span.prefix xmpp:
      = u.text_field :jabber_id, placeholder: "me@example.net", maxlength: 32
    %p
      = u.label :mastodon_url, 'Adresse du compte Mastodon'
      = u.url_field :mastodon_url, placeholder: "https://mastodon.example/@me", maxlength: 100
    %p.help
      Après avoir enregistré l’adresse de votre compte Mastodon, vous pourrez utiliser le lien <code>#{user_url(current_user)}</code> pour
      <a href="https://docs.joinmastodon.org/user/profile/#verification">prouver que le compte Mastodon et le compte LinuxFr.org appartiennent à la même personne.</a>
    %p
      = u.label :signature, "Signature"
      = u.text_field :signature, maxlength: 250, size: 100
  %p
    = f.check_box :hide_avatar
    = f.label :hide_avatar, "Ne pas afficher les avatars sur le site"
  %p
    = f.check_box :hide_signature
    = f.label :hide_signature, "Ne pas afficher les signatures"
  %p
    = f.check_box :show_negative_nodes
    = f.label :show_negative_nodes, "Afficher les contenus avec un score négatif"
  %p
    = check_box_tag :account_visible_toolbar, 1, true
    = f.label :visible_toolbar, "Afficher la barre d’outils dans ce navigateur"
  %p
    %label.factice Confirmez‑vous ces modifications ?
    = f.submit "Enregistrer"

%h2 Choisir les contenus affichés sur la page d’accueil
= form_for @account, url: registration_path(:account), method: :put do |f|
  %p
    = f.check_box :news_on_home
    = f.label :news_on_home, "Dépêches"
  %p
    = f.check_box :diaries_on_home
    = f.label :diaries_on_home, "Journaux"
  %p
    = f.check_box :posts_on_home
    = f.label :posts_on_home, "Forums"
  %p
    = f.check_box :polls_on_home
    = f.label :polls_on_home, "Sondages"
  %p
    = f.check_box :bookmarks_on_home
    = f.label :bookmarks_on_home, "Liens"
  %p
    = f.check_box :wiki_pages_on_home
    = f.label :wiki_pages_on_home, "Wiki"
  %p
    = f.check_box :trackers_on_home
    = f.label :trackers_on_home, "Suivi"
  %p
    = f.check_box :sort_by_date_on_home
    = f.label :sort_by_date_on_home, "Trier par ordre antéchronologique"
  %p
    %label.factice Confirmez‑vous ces modifications ?
    = f.submit "Enregistrer"

%h2 Choisir vos préférences pour la tribune
= form_for @account, url: registration_path(:account), method: :put do |f|
  %h3 Affichage des totoz
  %p
    = f.radio_button :totoz_style, "inline"
    = f.label :totoz_style_inline, "En ligne"
  %p
    = f.radio_button :totoz_style, "popup"
    = f.label :totoz_style_popup, "En fenêtre surgissante"
  %p
    = f.radio_button :totoz_style, "none"
    = f.label :totoz_style_none, "Ne pas afficher"
  %h3 Source des totoz
  %p
    = f.select :totoz_source, {"totoz.eu" => "https://totoz.eu/img/", "totoz.eu (NSFW)" => "https://nsfw.totoz.eu/img/", "claudex.be/sfwttz" => "https://claudex.be/sfwttz/", "claudex.be/ttz (NSFW)" => "https://claudex.be/ttz/"}
  %p
    %label.factice Confirmez‑vous ces modifications ?
    = f.submit "Enregistrer"

%h2 Choisir les contenus affichés sur la barre latérale
= form_for @account, url: registration_path(:account), method: :put do |f|
  %p
    = f.check_box :board_in_sidebar
    = f.label :board_in_sidebar, "Tribune"
  %p
    %label.factice Confirmez‑vous ces modifications ?
    = f.submit "Enregistrer"
